<!DOCTYPE html>
<html>

<head>
    <title>Bookmartian - About</title>
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link rel="stylesheet" href="/font-awesome-4.6.3/css/font-awesome.min.css">
    <link REL=StyleSheet HREF="style.css" TYPE="text/css" MEDIA=screen>
    <!-- <link REL=StyleSheet HREF="style.mobile.css" TYPE="text/css" MEDIA='only screen and (max-width: 800px)'> -->
    <link REL=StyleSheet HREF="colors.css" TYPE="text/css" MEDIA=screen>
</head>

<body class="paper-color">
    <script src="jquery-3.1.0.min.js"></script>
    <script src="utils.js"></script>
    
    <!-- sidebar -->
    
    <div class="sidebar default-primary-color">
        <input class='searchbox' style="visibility: hidden" type="text" id='searchterm' />

        <div class="admin-links tagcloud secondary-text-color" id="admin-links">
            BOOKMARTIAN</br>
            . add a bookmark...</br>
            . <a href="tags.html">manage tags</a></br>
            . <a href="options.html">settings</a></br>
            . <a href="help.html">help</a></br>
            . <a href="about.html">about</a></br>
        </div>

        <hr class="divider-color" />

        <div class="return-home tagcloud">
            <a href="/">&lt; return to home</a></br>
        </div>

        <hr class="divider-color" />
        <!-- footer -->
        <div class='footer secondary-text-color'>
            2017 mlamb/jmutchek
        </div>

        <div style="height:800px">
        </div>
    </div>

    <div class="mainbody">

        <h1>Bookmartian</h1>
        <hr class="divider-color" />
        <p>
            The bookmartian is a self-hosted, personal bookmark database intended to make saving, finding, and using bookmarks simple
            but powerful. Designed to be easily hosted on your home machine or on a cloud server, bookmartian is self-contained
            with no external software dependencies.
        </p>
        <p>
            Enjoy!
        </p>
        <p>
            Marty Lamb<br> John Mutchek<br>
        </p>

        <hr class="divider-color" />

        <p class="monospace aboutbox table-color">
            <strong>project.version:</strong> <span id="projectversion"></span></br/>
            <strong>git.remote.origin.url:</strong> <a id="gitremoteoriginurl" href="">github</a></br/>
            <strong>git.commit.id.describe-short:</strong> <a id="gitcommitiddescribeshort" href="https://github.com/martylamb/bookmartian/commit/"></a></br/>
            <strong>git.build.time:</strong> <span id="gitbuildtime"></span></br/>
        </p>
        
        <!-- action panel (hidden at start) -->
        <div class="action light-primary-color" id="actionpanel">
            <div id="addpanel" class="addpanel primary-text-color">
                <h1>Add a bookmark</h1>
                <form id="addform">
                    <input type="hidden" name="oldUrl" id="addinputoldUrl" />
                    <div class="titleinputpair">
                        <div class="fieldtitle">title:</div>
                        <input type="text" name="title" id="addinputtitle" class="addinputtitle" />
                    </div>
                    <div class="titleinputpair">
                        <div class="fieldtitle">url:</div>
                        <input type="text" name="url" id="addinputurl" class="addinputurl" />
                    </div>
                    <div class="titleinputpair">
                        <div class="fieldtitle">tags:</div>
                        <input type="text" name="tags" id="addinputtags" class="addinputtags" />
                    </div>
                    <div class="titleinputpair">
                        <div class="fieldtitle">notes:</div>
                        <input type="text" name="notes" id="addinputnotes" class="addinputnotes" />
                    </div>
                    <div class="titleinputpair">
                        <div class="fieldtitle">image url:</div>
                        <input type="text" name="imageUrl" id="addinputimageUrl" class="addinputurl" />
                    </div>
                    <div class="titleinputpair">
                        <div class="fieldtitle">&nbsp;</div>
                        <input type="button" value="save" class="actionbutton" onclick="saveBookmark();" />
                        <input type="button" value="cancel" class="actionbutton" onclick="closeAction();" />
                    </div>
                </form>
            </div>
        </div>

    </div>

    <script>
        // get the about / version info from the API
        $.ajax({
            // The URL for the request
            url: API_About,

            // Whether this is a POST or GET request
            type: "GET",

            // The type of data we expect back
            dataType: "json"
        })
            // Code to run if the request succeeds (is done);
            // The response is passed to the function
            .done(function (json) {
                if (json.status !== 'error') {
                    $('#projectversion').text(json.data['project.version']);
                    $('#gitremoteoriginurl').attr('href', json.data['git.remote.origin.url']);
                    $('#gitremoteoriginurl').text(json.data['git.remote.origin.url']);
                    $('#gitcommitiddescribeshort').attr('href', "https://github.com/martylamb/bookmartian/commit/"+json.data['git.commit.id.describe-short']);
                    $('#gitcommitiddescribeshort').text(json.data['git.commit.id.describe-short']);
                    $('#gitbuildtime').text(json.data['git.build.time']);
                } else {
                }

            })
            // Code to run if the request fails; the raw request and
            // status codes are passed to the function
            .fail(function (xhr, status, errorThrown) {
                console.log("Error: " + errorThrown);
                console.log("Status: " + status);
                console.dir(xhr);
            })
            // Code to run regardless of success or failure;
            .always(function (xhr, status) {

            });
    </script>

</body>

</html>